<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="utf-8">
    <title>M-MALL - Redirecting...</title>
    <script>
        (function () {
            // /M-MALL 제거하지 말고 전체 경로 그대로 저장
            var path = window.location.pathname;
            var search = window.location.search || '';
            var hash = window.location.hash || '';

            console.log('404 Page - Original path:', path);
            console.log('404 Page - Hash:', hash);

            // /auth/callback인 경우 /M-MALL 추가
            if (path === '/auth/callback') {
                var fullUrl = '/M-MALL/auth/callback' + search + hash;
                console.log('Redirecting to:', fullUrl);
                window.location.replace(fullUrl);
                return;
            }

            var redirect = path + search + hash;

            if (redirect && redirect !== '/M-MALL' && redirect !== '/M-MALL/') {
                sessionStorage.setItem('githubPagesRedirect', redirect);
            }

            window.location.replace('/M-MALL/' + hash);
        })();
    </script>
</head>

<body>
    <div style="text-align:center;padding:50px;font-family:sans-serif;">
        <h2>페이지를 불러오는 중...</h2>
    </div>
</body>

</html>